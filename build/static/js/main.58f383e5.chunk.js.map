{"version":3,"sources":["logo.svg","error.png","components/Header.js","services/instaService.js","components/User.js","components/Error.js","components/Posts.js","components/Users.js","components/Feed.js","components/Palette.js","components/Profile.js","App.js","index.js"],"names":["module","exports","Header","className","to","src","logo","alt","Component","instaService","getResource","url","a","fetch","_apiBase","res","ok","Error","status","json","getAllPosts","getAllPhotos","map","_transformPosts","post","this","User","props","min","name","href","ErrorMessage","img","Posts","InstaService","state","posts","error","onPostsLoaded","setState","console","log","onError","updatePosts","then","catch","arr","item","altname","photo","descr","id","key","items","renderItems","Users","Feed","Palette","photos","loading","onPhotosLoaded","updatePhotos","Profile","App","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"8EAAAA,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,4MCItBC,E,iLAEjB,OACE,gCACE,yBAAKC,UAAU,oBACb,kBAAC,IAAD,CAAMC,GAAG,IAAID,UAAU,QACrB,yBAAKE,IAAKC,IAAMC,IAAI,UAEtB,yBAAKJ,UAAU,SACb,4BACE,4BACE,kBAAC,IAAD,CAAMC,GAAG,IAAID,UAAU,eAAvB,mCAEF,4BACE,kBAAC,IAAD,CAAMC,GAAG,YAAYD,UAAU,eAA/B,uD,GAdoBK,a,wBCJfC,EACnB,aAAe,IAAD,gCAIdC,YAJc,uCAIA,WAAOC,GAAP,eAAAC,EAAA,sEACMC,MAAM,GAAD,OAAI,EAAKC,UAAT,OAAoBH,IAD/B,WACNI,EADM,QAGHC,GAHG,sBAIJ,IAAIC,MAAJ,gDAAmDN,EAAnD,sBAAoEI,EAAIG,SAJpE,uBAOCH,EAAII,OAPL,mFAJA,2DAcdC,YAdc,sBAcA,4BAAAR,EAAA,sEACM,EAAKF,YAAY,WADvB,cACNK,EADM,yBAELA,GAFK,2CAdA,KAmBdM,aAnBc,sBAmBC,4BAAAT,EAAA,sEACK,EAAKF,YAAY,WADtB,cACPK,EADO,yBAENA,EAAIO,IAAI,EAAKC,kBAFP,2CAnBD,KAwBdA,gBAAkB,SAACC,GACjB,MAAO,CACLnB,IAAKmB,EAAKnB,IACVE,IAAKiB,EAAKjB,MA1BZkB,KAAKX,SAAW,yBCWLY,EAXF,SAACC,GAAW,IAChBC,EAAuBD,EAAvBC,IAAKvB,EAAkBsB,EAAlBtB,IAAKE,EAAaoB,EAAbpB,IAAKsB,EAAQF,EAARE,KAEtB,OACE,uBAAGC,KAAK,IAAI3B,UAAWyB,EAAM,WAAa,QACxC,yBAAKvB,IAAKA,EAAKE,IAAKA,IACpB,6BAAMsB,K,iBCCGE,EANM,WACnB,OACI,yBAAK1B,IAAK2B,IAAKzB,IAAI,WCAJ0B,E,2MACnBC,aAAe,IAAIA,E,EACnBC,MAAQ,CACNC,MAAO,GACPC,OAAO,G,EAaTC,cAAgB,SAACF,GACf,EAAKG,SAAS,CACZH,QACAC,OAAO,IAETG,QAAQC,IAAI,EAAKN,MAAMC,Q,EAGzBM,QAAU,WACR,EAAKH,SAAS,CACZF,OAAO,K,mFAnBTZ,KAAKkB,gB,oCAILlB,KAAKS,aAAad,cACfwB,KAAKnB,KAAKa,eACVO,MAAMpB,KAAKiB,W,kCAiBJI,GACV,OAAOA,EAAIxB,KAAI,SAAAyB,GAAS,IACdlB,EAA8CkB,EAA9ClB,KAAMmB,EAAwCD,EAAxCC,QAASC,EAA+BF,EAA/BE,MAAO5C,EAAwB0C,EAAxB1C,IAAKE,EAAmBwC,EAAnBxC,IAAK2C,EAAcH,EAAdG,MAAOC,EAAOJ,EAAPI,GAE/C,OACE,yBAAKC,IAAKD,EAAIhD,UAAU,QACtB,kBAAC,EAAD,CACEE,IAAK4C,EACL1C,IAAKyC,EACLnB,KAAMA,EACND,KAAG,IAEL,yBACEvB,IAAKA,EACLE,IAAKA,IAEP,yBAAKJ,UAAU,cACZ0B,GAEH,yBAAK1B,UAAU,eACZ+C,S,+BAOD,IAAD,EACkBzB,KAAKU,MAAtBE,EADD,EACCA,MAAOD,EADR,EACQA,MAEf,GAAIC,EACF,OAAO,kBAAC,EAAD,MAGT,IAAMgB,EAAQ5B,KAAK6B,YAAYlB,GAE/B,OACE,yBAAKjC,UAAU,QACZkD,O,GArE2B7C,aCFrB,SAAS+C,IACtB,OACE,yBAAKpD,UAAU,SACb,kBAAC,EAAD,CACEE,IAAI,wDACJE,IAAI,OACJsB,KAAK,YAEP,yBAAK1B,UAAU,gBACb,kBAAC,EAAD,CACEE,IAAI,wDACJE,IAAI,OACJsB,KAAK,UACLD,KAAG,IAEL,kBAAC,EAAD,CACEvB,IAAI,wDACJE,IAAI,OACJsB,KAAK,UACLD,KAAG,IAEL,kBAAC,EAAD,CACEvB,IAAI,wDACJE,IAAI,OACJsB,KAAK,UACLD,KAAG,IAEL,kBAAC,EAAD,CACEvB,IAAI,wDACJE,IAAI,OACJsB,KAAK,UACLD,KAAG,MC9BE,SAAS4B,IACtB,OACE,yBAAKrD,UAAU,kBACb,kBAAC,EAAD,MACA,kBAACoD,EAAD,O,ICJeE,E,2MACnBvB,aAAe,IAAIA,E,EACnBC,MAAQ,CACNE,OAAO,EACPqB,OAAQ,GACRC,SAAS,G,EAaXjB,QAAU,WACR,EAAKH,SAAS,CACZF,OAAO,K,EAIXuB,eAAiB,SAACF,GAChB,EAAKnB,SAAS,CACZF,OAAO,EACPqB,SACAC,SAAS,K,mFAnBXlC,KAAKoC,iB,qCAILpC,KAAKS,aAAab,eACfuB,KAAKnB,KAAKmC,gBACVf,MAAMpB,KAAKiB,W,kCAiBJI,GACV,OAAOA,EAAIxB,KAAI,SAAAyB,GAAS,IACf1C,EAAY0C,EAAZ1C,IAAKE,EAAOwC,EAAPxC,IACZ,OACE,yBAAKF,IAAKA,EAAKE,IAAKA,S,+BAKhB,IAAD,EACmBkB,KAAKU,MAAvBE,EADD,EACCA,MAAOqB,EADR,EACQA,OAEf,GAAIrB,EACF,OAAO,kBAAC,EAAD,MAGT,IAAMgB,EAAQ5B,KAAK6B,YAAYI,GAE/B,OACE,yBAAKvD,UAAU,WACZkD,O,GApD4B7C,aCatBsD,EAbC,WACd,OACE,yBAAK3D,UAAU,qBACb,kBAAC,EAAD,CACEE,IAAI,+FACJE,IAAI,MACJsB,KAAK,YAEP,kBAAC,EAAD,Q,OCMSkC,MAZf,WACE,OACE,kBAAC,IAAD,KACE,yBAAK5D,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAO6D,KAAK,IAAIC,UAAWT,EAAMU,OAAK,IACtC,kBAAC,IAAD,CAAOF,KAAK,WAAWC,UAAWH,EAASI,OAAK,OCPxDC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.58f383e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.9e8a2b39.svg\";","module.exports = __webpack_public_path__ + \"static/media/error.3b8ad90a.png\";","import React, { Component } from 'react';\nimport logo from '../logo.svg';\nimport { Link } from 'react-router-dom';\n\nexport default class Header extends Component {\n  render() {\n    return (\n      <header>\n        <div className=\"container h-flex\">\n          <Link to='/' className=\"logo\">\n            <img src={logo} alt=\"logo\"></img>\n          </Link>\n          <nav className=\"links\">\n            <ul>\n              <li>\n                <Link to='/' className=\"menu__links\">Лента</Link>\n              </li>\n              <li>\n                <Link to='/profile/' className=\"menu__links\">Профиль</Link>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </header>\n    )\n  }\n}\n","export default class instaService {\n  constructor() {\n    this._apiBase = 'http://localhost:3000'\n  }\n\n  getResource = async (url) => {\n    const res = await fetch(`${this._apiBase}${url}`);\n\n    if (!res.ok) {\n      throw new Error(`Something went wrong. Could not fetch ${url}; received ${res.status}`);\n    }\n\n    return await res.json();\n  }\n\n  getAllPosts = async () => {\n    const res = await this.getResource('/posts/');\n    return res;\n  }\n\n  getAllPhotos = async () => {\n    const res = await this.getResource('/posts/');\n    return res.map(this._transformPosts);\n  }\n\n  _transformPosts = (post) => {\n    return {\n      src: post.src,\n      alt: post.alt\n    }\n  }\n\n}\n","import React from 'react';\n\nconst User = (props) => {\n  const {min, src, alt, name} = props;\n\n  return(\n    <a href=\"#\" className={min ? \"user min\" : \"user\"}>\n      <img src={src} alt={alt}></img>\n      <div>{name}</div>\n    </a>\n  )\n}\n\nexport default User;\n","import React from 'react';\nimport img from '../error.png';\n\nconst ErrorMessage = () => {\n  return(\n      <img src={img} alt=\"error\"></img>\n  )\n}\n\nexport default ErrorMessage;\n","import React, { Component } from 'react';\nimport InstaService from '../services/instaService'\nimport User from './User';\nimport ErrorMessage from './Error';\n\nexport default class Posts  extends Component {\n  InstaService = new InstaService();\n  state = {\n    posts: [],\n    error: false\n  }\n\n  componentDidMount() {\n    this.updatePosts();\n  }\n\n  updatePosts() {\n    this.InstaService.getAllPosts()\n      .then(this.onPostsLoaded)\n      .catch(this.onError);\n  }\n\n  onPostsLoaded = (posts) => {\n    this.setState({\n      posts, //equal to posts: posts\n      error: false\n    });\n    console.log(this.state.posts);\n  }\n\n  onError = () => {\n    this.setState({\n      error: true\n    });\n  }\n\n  renderItems(arr) {\n    return arr.map(item => {\n      const { name, altname, photo, src, alt, descr, id } = item; //деструктуризация, вместо name.item и т.д.\n\n      return(\n        <div key={id} className=\"post\">\n          <User\n            src={photo}\n            alt={altname}\n            name={name}\n            min\n          />\n          <img\n            src={src}\n            alt={alt}>\n          </img>\n          <div className=\"post__name\">\n            {name}\n          </div>\n          <div className=\"post__descr\">\n            {descr}\n          </div>\n        </div>\n      )\n    });\n  }\n\n  render() {\n    const { error, posts } = this.state;\n\n    if (error) {\n      return <ErrorMessage />;\n    }\n\n    const items = this.renderItems(posts);\n\n    return(\n      <div className=\"left\">\n        {items}\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport User from './User'\n\nexport default function Users() {\n  return(\n    <div className=\"right\">\n      <User\n        src=\"https://cdn.trinixy.ru/pics5/20180508/uncommon_01.jpg\"\n        alt=\"smbd\"\n        name=\"Arkadiy\"\n      />\n      <div className=\"users__block\">\n        <User\n          src=\"https://cdn.trinixy.ru/pics5/20180508/uncommon_01.jpg\"\n          alt=\"smbd\"\n          name=\"Arkadiy\"\n          min\n        />\n        <User\n          src=\"https://cdn.trinixy.ru/pics5/20180508/uncommon_01.jpg\"\n          alt=\"smbd\"\n          name=\"Arkadiy\"\n          min\n        />\n        <User\n          src=\"https://cdn.trinixy.ru/pics5/20180508/uncommon_01.jpg\"\n          alt=\"smbd\"\n          name=\"Arkadiy\"\n          min\n        />\n        <User\n          src=\"https://cdn.trinixy.ru/pics5/20180508/uncommon_01.jpg\"\n          alt=\"smbd\"\n          name=\"Arkadiy\"\n          min\n        />\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport Posts from './Posts';\nimport Users from './Users';\n\nexport default function Feed() {\n  return(\n    <div className=\"container feed\">\n      <Posts />\n      <Users />\n    </div>\n  )\n}\n","import React, { Component } from 'react';\nimport InstaService from '../services/instaService';\nimport ErrorMessage from './Error'\n\nexport default class Palette extends Component {\n  InstaService = new InstaService();\n  state = {\n    error: false,\n    photos: [],\n    loading: true\n  }\n\n  componentDidMount() {\n    this.updatePhotos();\n  }\n\n  updatePhotos() {\n    this.InstaService.getAllPhotos()\n      .then(this.onPhotosLoaded)\n      .catch(this.onError)\n  }\n\n  onError = () => {\n    this.setState({\n      error: true,\n    });\n  }\n\n  onPhotosLoaded = (photos) => {\n    this.setState({\n      error: false,\n      photos,\n      loading: false\n    });\n  }\n\n  renderItems(arr) {\n    return arr.map(item => {\n      const {src, alt} = item;\n      return (\n        <img src={src} alt={alt}></img>\n      )\n    })\n  }\n\n  render() {\n    const { error, photos } = this.state;\n\n    if (error) {\n      return <ErrorMessage />\n    }\n\n    const items = this.renderItems(photos);\n\n    return (\n      <div className=\"palette\">\n        {items}\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport User from './User';\nimport Palette from './Palette';\n\nconst Profile = () => {\n  return (\n    <div className=\"container profile\">\n      <User\n        src=\"https://www.cheatsheet.com/wp-content/uploads/2019/05/robert-downey-jr-iron-man-1024x692.jpg\"\n        alt=\"man\"\n        name=\"Anufrii\"\n      />\n      <Palette />\n    </div>\n  )\n}\n\nexport default Profile;\n","import React from 'react';\nimport Header from './components/Header';\nimport Feed from './components/Feed';\nimport Profile from './components/Profile';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Route path='/' component={Feed} exact/>\n        <Route path='/profile' component={Profile} exact/>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}